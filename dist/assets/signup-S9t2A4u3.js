import{_ as u,c as d,a as s,e as m,w as i,v as a,t as h,b as c,o as p,d as w}from"./_plugin-vue_export-helper-BGRe_7go.js";const g="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%20id='Edit%20/%20Add_To_Queue'%3e%3cpath%20id='Vector'%20d='M3%209V19.4C3%2019.9601%203%2020.2399%203.10899%2020.4538C3.20487%2020.642%203.35774%2020.7952%203.5459%2020.8911C3.7596%2021%204.0395%2021%204.59846%2021H15.0001M14%2013V10M14%2010V7M14%2010H11M14%2010H17M7%2013.8002V6.2002C7%205.08009%207%204.51962%207.21799%204.0918C7.40973%203.71547%207.71547%203.40973%208.0918%203.21799C8.51962%203%209.08009%203%2010.2002%203H17.8002C18.9203%203%2019.4801%203%2019.9079%203.21799C20.2842%203.40973%2020.5905%203.71547%2020.7822%204.0918C21.0002%204.51962%2021.0002%205.07969%2021.0002%206.19978L21.0002%2013.7998C21.0002%2014.9199%2021.0002%2015.48%2020.7822%2015.9078C20.5905%2016.2841%2020.2842%2016.5905%2019.9079%2016.7822C19.4805%2017%2018.9215%2017%2017.8036%2017H10.1969C9.07899%2017%208.5192%2017%208.0918%2016.7822C7.71547%2016.5905%207.40973%2016.2842%207.21799%2015.9079C7%2015.4801%207%2014.9203%207%2013.8002Z'%20stroke='%23ffffff'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",f={name:"signup",data(){return{username:"",email:"",password:"",showModal:!1,modalMessage:"",redirectToIndex:!1}},methods:{async handleSubmit(){const l=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!this.username||!this.email||!this.password){this.modalMessage="All fields are required",this.showModal=!0;return}if(!l.test(this.email)){this.modalMessage="Please enter a valid email address",this.showModal=!0;return}try{const e=await fetch("https://localhost:5000/api/v1/users/createuser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,email:this.email,password:this.password})}),n=await e.json();e.ok?(this.modalMessage="Successfully created",this.redirectToIndex=!0):this.modalMessage=n.error||"Error with the creation"}catch(e){console.error("Error:",e),this.modalMessage="Error with the creation"}finally{this.showModal=!0}},closeModal(){this.showModal=!1,this.redirectToIndex&&(window.location.href="../index.html")}}},C={class:"container"},M={key:0,class:"modal"};function v(l,e,n,V,t,r){return p(),d("body",null,[s("div",C,[e[7]||(e[7]=s("div",{class:"icon"},[s("img",{alt:"Icon with a plus sign inside a square",src:g})],-1)),e[8]||(e[8]=s("h1",null,"REGISTER",-1)),s("form",{onSubmit:e[3]||(e[3]=m((...o)=>r.handleSubmit&&r.handleSubmit(...o),["prevent"]))},[i(s("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>t.username=o),placeholder:"Username",type:"text"},null,512),[[a,t.username]]),i(s("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>t.email=o),placeholder:"Email",type:"text"},null,512),[[a,t.email]]),i(s("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>t.password=o),placeholder:"Password",type:"password"},null,512),[[a,t.password]]),e[5]||(e[5]=s("button",{class:"button",type:"submit"},"Create",-1)),e[6]||(e[6]=s("a",{class:"back-button",href:"../index.html"},"Back",-1))],32),t.showModal?(p(),d("div",M,[s("p",null,h(t.modalMessage),1),s("button",{onClick:e[4]||(e[4]=(...o)=>r.closeModal&&r.closeModal(...o))},"OK")])):c("",!0)])])}const x=u(f,[["render",v]]);w(x).mount("#signup");
